#### Jetpack version

* Jetpack 6.1

#### Supported SENSING Camera Modules

* SG12-IMX577-G3A-Hxxx
  
  * support max 8 cameras to light up at the same time

#### Quick Bring Up

1. Copy the driver package to the working directory of the Jetson device, such as “/home/nvidia”
   
   ```
   /home/nvidia/SG8A_ORIN_GMSL2-F_V2_AGX_Orin_GMSL3_IMX577_JP6.1_L4TR36.4
   ```
2. Enter the driver directory,
   
   ```
   cd SG8A_ORIN_GMSL2-F_V2_AGX_Orin_GMSL3_IMX577_JP6.1_L4TR36.4
   chmod a+x ./install.sh
   ./install.sh
   ```
3. Use the "sudo /opt/nvidia/jetson-io/jetson-io.py" command to select the corresponding device
   
   ```
   sudo /opt/nvidia/jetson-io/jetson-io.py
   
   1.select "Configure Jetson AGX CSI Connector"
   2.select "Configure for compatible hardware"
   3.select "Jetson Sensing IMX577 GMSL3x8"
   4.select "Save pin changes"
   5.select "Save and reboot to reconfigure pins"
   ```
4. reboot device
   
   ```
   sudo reboot
   ```
5. Install camera driver
   
   ```
   cd SG8A_ORIN_GMSL2-F_V2_AGX_Orin_GMSL3_IMX577_JP6.1_L4TR36.4
   ./load_module.sh
   ```
6. Bring up the camera
   
   ```
   gst-launch-1.0 nvarguscamerasrc sensor-id=0 ! 'video/x-raw(memory:NVMM),framerate=30/1,format=NV12' ! nvvidconv ! xvimagesinkgst-launch-1.0 v4l2src device=/dev/video0  ! xvimagesink -ev
   ```

#### Integration with SENSING Driver Source Code

1. Compile Image & dtb
   Refer to the following command to integrate Dtb and Kernel source code to your kernel
   
   ```
   cp camera-driver-package/source/hardware Linux_for_Tegra/source/hardware -r
   cp camera-driver-package/source/kernel Linux_for_Tegra/source/kernel -r
   cp camera-driver-package/source/nvidia-oot Linux_for_Tegra/source/nvidia-oot -r
   ```
2. Go to the root directory of your source code and recompile
   
   ```
   cd <install-path>/Linux_for_Tegra/source
   export CROSS_COMPILE_AARCH64=toolchain-path/bin/aarch64-buildroot-linux-gnu-
   export KERNEL_HEADERS=$PWD/kernel/kernel-jammy-src
   export INSTALL_MOD_PATH=<install-path>/Linux_for_Tegra/rootfs/
   make -C kernel
   make modules
   make dtbs
   sudo -E make install -C kernel
   
   cp kernel/kernel-jammy-src/arch/arm64/boot/Image <install-path>/Linux_for_Tegra/kernel/Image
   cp nvidia-oot/device-tree/platform/generic-dts/dtbs/* <install-path>/Linux_for_Tegra/kernel/dtb/
   ```
3. Install the newly generated Image and dtb to your nvidia device and reboot to let them take effect
   
   ```
   dtb:nvidia-oot/device-tree/platform/generic-dts/dtbs/
   Image: kernel/kernel-jammy-src/arch/arm64/boot/
   
   tegra-camera.ko:nvidia-oot/drivers/media/platform/tegra/camera/
   nvhost-nvcsi-t194.ko:nvidia-oot/drivers/video/tegra/host/nvcsi/
   ```
4. Copy the image,dtb,ko generated by the above compilation to the corresponding location of jetson
   
   ```
   sudo cp *.dtbo /boot/
   sudo cp Image /boot/Image
   sudo cp ./ko/tegra-camera.ko /lib/modules/5.15.136-tegra/updates/drivers/media/platform/tegra/camera/
   sudo cp ./ko/nvhost-nvcsi-t194.ko /lib/modules/5.15.136-tegra/updates/drivers/video/tegra/host/nvcsi/
   ```
5. Select the device tree you want to light
   
   ```
   sudo /opt/nvidia/jetson-io/jetson-io.py
   
   1.select "Configure Jetson AGX CSI Connector"
   2.select "Configure for compatible hardware"
   3.select "Jetson Sensing IMX577 GMSL3x8"
   4.select "Save pin changes"
   5.select "Save and reboot to reconfigure pins"
   ```
6. Install camera driver
   
   ```
   sudo insmod ./ko/max9295.ko
   sudo insmod ./ko/max9296.ko
   sudo insmod ./ko/sg8-imx577-gmsl3.ko
   ```
7. Bring up the camera
   
   ```
   gst-launch-1.0 nvarguscamerasrc sensor-id=0 ! 'video/x-raw(memory:NVMM),framerate=30/1,format=NV12' ! nvvidconv ! xvimagesinkgst-launch-1.0 v4l2src device=/dev/video0  ! xvimagesink -ev
   ```

